<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body style="background-color: black; color: white;">
    <!-- study ready state from written notes -->

    <button id="btnData">get data</button>

    
</body>
<script>
    // const requestUrl = 'https://api.github.com/users/hiteshchoudhary'
    // const xhr = new XMLHttpRequest()
    // xhr.open('GET',requestUrl)
    // xhr.onreadystatechange = function(){
    //     console.log(xhr.readyState);
    //     if (xhr.readyState === 4) {
    //         const data = JSON.parse(this.responseText)
    //         console.log(typeof data);
    //         console.log(data.followers);
    //     }
    // }
    // xhr.send();


    //Assignment: click on btn, to receive data, get Hitesh Sir photo and followers and make a card.
    const url = 'https://api.github.com/users/hiteshchoudhary'

    const req = new XMLHttpRequest()
    req.open('GET',url)

    req.onreadystatechange = function () {
        if(req.readyState === 4){
            console.log("data received");
            const data = JSON.parse(this.responseText)

            console.log(data.avatar_url);
            console.log(data.followers);

            makeCard(data.avatar_url,data.followers)
        }
    }

    function makeCard(img,followers) {
        document.body.innerHTML = ""

        const div = document.createElement('div')
        div.id = 'img'
        div.style.position = 'absolute'
        div.style.left = '30vw'
        div.innerHTML = `<img src="${img}" alt="somthing went wrong">`
        
        const h1 = document.createElement('h1')
        h1.id = 'followers'
        h1.style.color = 'white'
        h1.innerText = `Followers: ${followers}`

        document.body.appendChild(div)
        document.body.appendChild(h1)
    }

    document.getElementById('btnData').addEventListener('click',function(){
        req.send()
    })
    
    
</script>
</html>